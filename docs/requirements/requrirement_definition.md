# 家計簿アプリ 要件定義書

| ドキュメント名 | 家計簿アプリ 要件定義書 |
| --- | --- |
| **バージョン** | **1.0** |
| **作成日** | 2025年9月19日 |
| **作成者** | Gemini |
| **承認者** |  |

---

## 1. 概要

### 1.1 プロジェクトの背景と目的

既存の家計簿アプリは入力や単純な可視化機能が充実している一方で、蓄積されたデータを基にした高度な分析や、個人の状況に合わせた具体的な示唆（インサイト）を提供する機能は未だ発展途上である。
本プロジェクトは、すでに家計管理を習慣化しているユーザーが既存アプリに感じる「物足りなさ」を解消し、データ分析を通じて自身の家計を深く理解し、より賢い資産管理・形成へと繋げることを目的とする。

### 1.2 プロジェクトのゴール

本プロジェクトの成功は、以下の状態をもって定義する。

- 開発者自身が「最も使いやすい」と心から感じられる家計簿アプリが完成していること。
- ユーザーが自身の消費行動に対する新たな「気づき」を得られ、具体的な行動変容に繋がったと実感できること。

### 1.3 開発範囲（スコープ）

- 本要件定義書に記載された機能（スマートフォンアプリ、PC（Web）アプリ）の開発を範囲とする。
- 金融機関とのAPI連携による自動入力機能は、将来的な拡張機能とし、今回はスコープ外とする。

---

## 2. 用語定義

| 用語 | 説明 |
| --- | --- |
| **取引** | 支出または収入の1レコードを指す。 |
| **カテゴリ** | 取引を分類するための項目。（例：食費、交通費） |
| **インサイト** | データ分析によって得られる、ユーザーの行動変容を促すための気づきや示唆。 |

---

## 3. ターゲットユーザー

- **メインユーザー:**
    - 20代〜40代で、すでに何らかの家計簿アプリやツールを継続的に利用している。
    - 記録するだけでなく、データに基づいた客観的な分析や改善策に関心がある。
    - 節約だけでなく、将来のための資産形成（投資など）にも意欲的である。
- **サブユーザー:**
    - これから本格的に家計管理を始めたいと考えているが、最初から質の高いツールを使いたいと考えている人。

---

## 4. システム構成

- **プラットフォーム:** スマートフォン（iOS/Android）、PC（Webブラウザ）
- **構成:**
    - **クライアント:** スマートフォンアプリ、Webフロントエンド
    - **サーバー:** Web/APサーバー、データベースサーバー
    - **外部サービス:** メール送信サービス、Google API

---

## 5. 機能要件

### 5.1 スマートフォン版アプリの機能

**目的:** 外出先でのスピーディな入力と、重要な通知・予測の確認に特化する。

| 機能ID | 機能名 | 概要 |
| --- | --- | --- |
| **FN-SP-001** | **クイック入力機能** | アプリ起動後、すぐに支出の入力画面が表示される。最低限の項目で素早く登録できる。 |
| **FN-SP-002** | **入力補助機能** | 過去の履歴からカテゴリや店名を予測して候補を表示し、入力をサポートする。 |
| **FN-SP-003** | **予算アラート機能** | 月の予算を超えそうになった時や、超過した時に画面上にアラートメッセージを表示する。 |
| **FN-SP-004** | **今月の支出予測機能** | 現在までの支出ペースを基に、月末時点での支出額の着地見込みを算出して表示する。 |

### 5.2 PC版（Web）アプリの機能

**目的:** データ入力・管理・分析のすべてを担う、本アプリの中核です。

#### 5.2.1 基本機能

| 機能ID | 機能名 | 概要 |
| --- | --- | --- |
| **FN-PC-001** | **データ入力機能** | 支出、収入の情報を詳細に記録する。 |
| **FN-PC-002** | **データ編集・削除機能** | 過去の入力データを修正または削除する。 |
| **FN-PC-003** | **テーブル表示機能** | 入力したデータを時系列やカテゴリ別の一覧（テーブル形式）で表示・確認する。 |
| **FN-PC-004** | **カテゴリ管理機能** | 費目のカテゴリを自由に作成・編集・削除できる。 |
| **FN-PC-005** | **基本グラフ表示機能** | 月ごとの支出・収入の推移（棒グラフ）や、カテゴリ別割合（円グラフ）を表示する。 |
| **FN-PC-006** | **月次予算設定機能** | カテゴリごとに毎月の予算額を手動で設定できる。 |
| **FN-PC-007** | **月次レポートメール機能** | 毎月1回、その月の収支サマリーレポートを指定のメールアドレスに自動送信する。 |

#### 5.2.2 高度な分析・示唆出し機能

| 機能ID | 機能名 | 概要 |
| --- | --- | --- |
| **FN-PC-009** | **来年の資産額予測機能** | 現在の収支トレンドや資産状況を基に、1年後の予測資産額をシミュレーションして表示する。 |
| **FN-PC-010** | **AIによる予算提案機能** | 過去の支出データをAIが分析し、来月の最適な予算案を自動で提案する。 |
| **FN-PC-011** | **適正支出提案機能** | ユーザーの収入や類似ユーザーのデータと比較し、各カテゴリの適切な支出額の目安を提案する。 |

---

## 6. 非機能要件

| 項目 | 要件 |
| --- | --- |
| **パフォーマンス** | ・アプリ起動時間: 3秒以内<br>・画面遷移: 2秒以内<br>・データ登録処理: 1秒以内 |
| **セキュリティ** | ・クライアント-サーバー間の通信はすべてTLSで暗号化する。<br>・パスワード等の認証情報はハッシュ化してデータベースに保存する。<br>・個人を特定できる情報は適切に管理し、本人の同意なく第三者に提供しない。 |
| **UI/UX** | ・スマートフォンアプリは、片手での操作が容易なデザインとする。<br>・PC版は、多くの情報を一覧でき、かつ直感的に操作できるデザインとする。 |
| **可用性** | ・システムの稼働率は月間99.5%以上を目指す。 |
| **データ同期** | ・スマートフォンで入力されたデータは、即座にサーバーに同期され、PC版に反映されること。オフライン時の入力は、オンライン復帰時に自動で同期されること。 |
| **法令遵守** | ・個人情報保護法および関連法令を遵守すること。 |

---

## 7. 外部インターフェース要件

- **Google認証/API連携:** ユーザー認証
- **メール送信サービス:** AWS SES

---

## 8. その他制約事項

- 開発言語、フレームワーク、インフラ環境については、別途技術選定にて決定する。
- 開発予算、スケジュールについては、別途プロジェクト計画にて定める。

---

## 家計簿アプリ プロジェクト技術スタック

| カテゴリ | 選択技術 | 役割・目的 |
| --- | --- | --- |
| **フロントエンド** | **Next.js** (React) | PC版WebアプリのUI構築。 |
| **バックエンド** | **Go言語** + **Gin** | APIサーバーの実装。高速な処理とパフォーマンスを重視。 |
| **データベース** | **PostgreSQL** | 取引データの保存。信頼性とデータの整合性を重視。 |
| **インフラ** | **AWS** | アプリケーション全体の実行基盤。<br>・**Lambda:** バックエンドコードの実行<br>・**API Gateway:** APIの窓口<br>・**RDS:** PostgreSQLの運用<br>・**Amplify:** フロントエンドのホスティング |
| **認証** | **Auth0** | ユーザーのログイン認証。開発のしやすさと拡張性を重視。 |
| **コード管理** | **Git** / **GitHub** | プログラムコードのバージョン管理。 |
| **CI/CD** | **GitHub Actions** | テストとデプロイの自動化。 |
| **IaC** | **AWS CDK** | AWSインフラのコードによる定義・管理。 |
| **監視** | **Amazon CloudWatch** | アプリケーションのログ監視とエラー検知。 |

---

## 月額運用コスト試算（最小構成）

| カテゴリ | 選択技術 | 月額コスト（最小構成） | 備考 |
| --- | --- | --- | --- |
| **インフラ** | **AWS** | **約$1.6～$14** | ・**最初の12ヶ月:** RDSが無料枠のため、ドメイン代（Route 53）の**約$1.6/月**のみ。<br>・**13ヶ月目以降:** RDSの費用（**約$12/月**）が加算されるのが主なコストです。<br>・Lambda, API Gateway, Amplifyは無料枠で収まる想定です。 |
| **認証** | **Auth0** | **$0** | **月間7,500アクティブユーザー**まで無料枠があります。個人開発の範囲ではまず超えません。 |
| **開発・運用** | **GitHub<br>GitHub Actions<br>AWS CDK** | **$0** | ・GitHubの個人リポジトリは無料です。<br>・GitHub Actionsも個人利用なら無料のビルド時間で十分に足ります。<br>・CDKはツールなので、それ自体の費用はかかりません。 |
| **合計** | --- | **最初の1年: 約$1.6 (約240円)<br>その後: 約$15 (約2,250円)** | （1ドル=150円で計算） |