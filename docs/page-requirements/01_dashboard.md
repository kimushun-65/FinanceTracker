# ダッシュボードページ 設計書

## ページ概要
家計の全体的な状況を一目で把握できるメインページです。収支の推移、カテゴリ別支出、現在の財務状況をビジュアルに表示します。

## 主要機能

### 1. ナビゲーション
- **サイドバー**: 画面左側に固定表示
- **メニュー項目**:
  - ダッシュボード
  - 取引
  - 予算
  - 資産
  - レポート
  - 設定

### 2. ユーザー情報
- **表示位置**: 画面右上
- **表示内容**: 
  - ユーザー名
  - プラン種別（Premium Plan等）

### 3. 収支トレンドグラフ
- **グラフタイプ**: 棒グラフ
- **表示期間**: 直近6ヶ月（デフォルト）
- **データ内容**:
  - 月別収入（緑色）
  - 月別支出（赤色）
- **期間切り替え**: 3ヶ月、6ヶ月、12ヶ月、全期間

### 4. カテゴリ別支出グラフ
- **グラフタイプ**: ドーナツチャート
- **表示内容**: 当月のカテゴリ別支出割合
- **カテゴリ**: 
  - エンターテインメント
  - 食費
  - 交通費
  - 光熱費
  - 家賃・住居費
  - その他

### 5. サマリーカード
- **当月収入**: 金額表示
- **当月支出**: 金額表示
- **収支差額**: 収入 - 支出

## データ取得要件

### 必要なAPI
1. **月別収支データ取得API**
   - エンドポイント: `/api/transactions/monthly-summary`
   - パラメータ: 期間（from, to）
   - レスポンス: 月別の収入・支出合計

2. **カテゴリ別支出データ取得API**
   - エンドポイント: `/api/transactions/category-summary`
   - パラメータ: 年月
   - レスポンス: カテゴリ別支出額と割合

### データベース参照
- `transactions`テーブル: 取引データ
- `categories`テーブル: カテゴリ情報
- `users`テーブル: ユーザー情報

## UI/UX要件

### レスポンシブデザイン
- PC: フルレイアウト表示
- タブレット: グラフサイズ調整
- スマートフォン: 縦並び表示

### パフォーマンス
- 初期ロード: 3秒以内
- データ更新: リアルタイム反映

### アクセシビリティ
- グラフの代替テキスト提供
- キーボードナビゲーション対応
- スクリーンリーダー対応

## 実装優先順位
1. 基本レイアウト構築
2. 収支トレンドグラフ実装
3. カテゴリ別支出グラフ実装
4. サマリーカード実装
5. レスポンシブ対応

## 画面設計（ASCII）

```
+--------------------------------------------------------------------------------------------------+
|  FinSight                                                               AI User | Premium Plan    |
+----------------+---------------------------------------------------------------------------------+
| ≡ Dashboard    |                              Dashboard                                          |
|                |                                                                                 |
| 📊 Transactions |  +------------------------------------------+  +----------------------------+ |
|                |  | Income/Expense Trends         [6M ▼]     |  | Expense Category Breakdown | |
| 💰 Budget       |  |                                          |  |                            | |
|                |  | 300K┤                                     |  |      Entertainment 25%     | |
| 📈 Assets       |  |     |                                     |  |         ╱─────╲            | |
|                |  | 200K┤ ┌─┐   ┌─┐                          |  |     ╱───       ───╲        | |
| 📑 Reports      |  |     | │█│ ┌─┤█│   ┌─┐   ┌─┐            |  |   │    Food 30%    │       | |
|                |  | 100K┤ │█│ │█│█│ ┌─┤█│ ┌─┤█│            |  |   │                │       | |
| ⚙️ Settings     |  |     | │█│ │█│█│ │█│█│ │█│█│            |  |   │  Trans. 15%   │       | |
|                |  |    0┤─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─┴─           |  |     ╲   Others   ╱        | |
|                |  |      Jun  Jul  Aug  Sep  Oct  Nov        |  |       ╲─── 10% ───╱        | |
|                |  |                                          |  |     Utilities 10%          | |
|                |  | █ Income  █ Expenses                    |  |      Household 10%         | |
|                |  +------------------------------------------+  +----------------------------+ |
|                |                                                                                 |
|                |  +----------------+  +----------------+  +----------------+                    |
|                |  | Current Month  |  | Current Month  |  | Net Income     |                    |
|                |  | Income         |  | Expenses       |  |                |                    |
|                |  |                |  |                |  |                |                    |
|                |  |   ¥250,000    |  |   ¥186,500    |  |   +¥63,500     |                    |
|                |  |                |  |                |  |                |                    |
|                |  +----------------+  +----------------+  +----------------+                    |
|                |                                                                                 |
+----------------+---------------------------------------------------------------------------------+
```

### 画面要素説明

#### ヘッダー部
- 左側: ロゴ（FinSight）
- 右側: ユーザー名とプラン情報

#### サイドバー（左側）
- 幅: 200px固定
- アイコン付きメニュー項目
- 現在のページはハイライト表示

#### メインコンテンツエリア
1. **収支トレンドグラフ（左上）**
   - 6ヶ月分の棒グラフ
   - 緑: 収入、赤: 支出
   - 期間切り替えドロップダウン

2. **カテゴリ別支出グラフ（右上）**
   - ドーナツチャート
   - 各カテゴリの割合表示
   - ホバーで詳細金額表示

3. **サマリーカード（下部）**
   - 3つの等幅カード
   - 当月収入、当月支出、純収入
   - 大きな数字で金額表示